<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Día de Súper Poder: Aventura de Balance (Versión Definitiva)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- HUD Principal - Siempre visible -->
    <div id="hud" class="hud">
        <!-- Medidores principales -->
        <div class="meters-container">
            <div class="meter">
                <span class="meter-icon">⚡</span>
                <div class="meter-bar">
                    <div id="energy-fill" class="meter-fill energy-fill"></div>
                </div>
                <span class="meter-label">Energía Física</span>
                <span id="energy-value" class="meter-value">100%</span>
            </div>
            
            <div class="meter">
                <span class="meter-icon">❤️</span>
                <div class="meter-bar">
                    <div id="social-fill" class="meter-fill social-fill"></div>
                </div>
                <span class="meter-label">Conexión Social</span>
                <span id="social-value" class="meter-value">100%</span>
            </div>
            
            <div class="meter secondary">
                <span class="meter-icon">🧠</span>
                <div class="meter-bar">
                    <div id="mental-fill" class="meter-fill mental-fill"></div>
                </div>
                <span class="meter-label">Diversión Mental</span>
                <span id="mental-value" class="meter-value">0%</span>
            </div>
        </div>

        <!-- Reloj día-noche -->
        <div class="day-cycle">
            <div class="day-cycle-container">
                <div id="day-progress" class="day-progress"></div>
                <span class="day-icon" id="day-icon">☀️</span>
            </div>
            <span class="day-label">Progreso del Día</span>
        </div>

        <!-- Botones de control -->
        <div class="control-buttons">
            <button id="pause-btn" class="btn btn--secondary control-btn" title="Pausar/Continuar">⏸️</button>
            <button id="restart-btn" class="btn btn--secondary control-btn" title="Reiniciar Día">🔄</button>
            <button id="sound-btn" class="btn btn--secondary control-btn" title="Silenciar Sonido">🔊</button>
            <button id="help-btn" class="btn btn--secondary control-btn" title="Ayuda">❓</button>
        </div>
    </div>

    <!-- NUEVO: Botón de Proximidad para Jugar -->
    <div id="play-button" class="play-button hidden">
        🎮 Jugar
    </div>

    <!-- Área principal del juego -->
    <div id="game-area" class="game-area">
        <!-- Canvas del juego -->
        <canvas id="game-canvas" width="800" height="600"></canvas>
        
        <!-- NUEVA: Cruceta digital en esquina inferior izquierda -->
        <div id="dpad" class="dpad">
            <button id="dpad-up" class="dpad-btn dpad-up">⬆️</button>
            <button id="dpad-down" class="dpad-btn dpad-down">⬇️</button>
            <button id="dpad-left" class="dpad-btn dpad-left">⬅️</button>
            <button id="dpad-right" class="dpad-btn dpad-right">➡️</button>
        </div>
    </div>

    <!-- Modal de tutorial dinámico -->
    <div id="tutorial-modal" class="modal">
        <div class="modal-content tutorial-content">
            <div class="guide-character">🤖</div>
            <h2 id="tutorial-title">¡Hola! Soy el Guía del Balance</h2>
            <p id="tutorial-text">Te voy a enseñar cómo mantener un día equilibrado y divertido.</p>
            <div class="tutorial-progress">
                <div id="tutorial-progress-bar" class="tutorial-progress-bar"></div>
                <span id="tutorial-step">Paso 1 de 8</span>
            </div>
            <div class="tutorial-buttons">
                <button id="tutorial-skip" class="btn btn--secondary">Saltar Tutorial</button>
                <button id="tutorial-next" class="btn btn--primary">Siguiente</button>
                <button id="tutorial-start" class="btn btn--primary hidden">¡Comenzar!</button>
            </div>
        </div>
    </div>

    <!-- Modal de mini-juegos -->
    <div id="minigame-modal" class="modal hidden">
        <div class="modal-content">
            <h3 id="minigame-title">Mini-juego</h3>
            <div id="minigame-content" class="minigame-content"></div>
            <button id="minigame-close" class="btn btn--secondary">Salir del Mini-juego</button>
        </div>
    </div>

    <!-- Modal de fin de día -->
    <div id="endday-modal" class="modal hidden">
        <div class="modal-content">
            <div id="endday-character" class="guide-character">🤖</div>
            <h2 id="endday-title">Fin del Día</h2>
            <div id="endday-results" class="endday-results"></div>
            <p id="endday-message">Mensaje del día</p>
            <div class="endday-buttons">
                <button id="endday-retry" class="btn btn--primary">Reintentar</button>
                <button id="endday-continue" class="btn btn--secondary">Continuar</button>
            </div>
        </div>
    </div>

    <!-- Modal de ayuda -->
    <div id="help-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Controles y Ayuda</h2>
            <div class="help-content">
                <h3>🎮 Controles:</h3>
                <p><strong>PC:</strong> Usa las teclas WASD o flechas direccionales</p>
                <p><strong>Cruceta:</strong> Usa los botones direccionales en la esquina inferior izquierda</p>
                
                <h3>🎯 Objetivo:</h3>
                <p>Mantén tus medidores ⚡ Energía Física y ❤️ Conexión Social en zona verde (≥70%) al final del día</p>
                
                <h3>🎮 Cómo Jugar:</h3>
                <p>Acércate a los objetos con tu avatar. Cuando estés cerca aparecerá un botón "🎮 Jugar..."</p>
                
                <h3>🏠 Objetos Interactivos:</h3>
                <p><strong>📱 Celular:</strong> Juego Snake (sube 🧠, baja ⚡❤️)</p>
                <p><strong>🎲 Mesa:</strong> Tic-Tac-Toe (sube ❤️)</p>
                <p><strong>⚽ Balón:</strong> Penales (sube ⚡)</p>
                <p><strong>👫 Amigos:</strong> Piedra/Papel/Tijera (sube ⚡❤️)</p>
            </div>
            <button id="help-close" class="btn btn--primary">Cerrar</button>
        </div>
    </div>

    <!-- Panel de debug (oculto por defecto) -->
    <div id="debug-panel" class="debug-panel hidden">
        <h4>Panel Debug (Tecla D)</h4>
        <div id="debug-info"></div>
        <div id="proximity-debug"></div>
    </div>

    <!-- Notificaciones flotantes -->
    <div id="notifications" class="notifications"></div>

    <script src="app.js"></script>
</body>
</html>
